(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{4282:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/client-portal",function(){return s(479)}])},5346:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ClientDashboard}});var n=s(5893);s(7294);var a=s(1123),i=s(1163);function ClientDashboard(e){let{userProfile:t,clientGroup:s}=e,{signOut:l,user:r}=(0,a.a)(),c=(0,i.useRouter)(),u=null==s?void 0:s.name.toLowerCase().includes("econoco"),handleLaunchReport=async()=>{if(!r){console.error("User not authenticated");return}try{await r.getIdToken(!0),await c.push({pathname:"/assessment-app",query:{auth:"true"}})}catch(e){console.error("Failed to launch report:",e)}};return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,n.jsx)("nav",{className:"bg-white shadow",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex justify-between h-16",children:[(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("h1",{className:"text-xl font-semibold",children:"Client Dashboard"})}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("span",{className:"text-gray-600",children:t.email}),(0,n.jsx)("button",{onClick:l,className:"text-red-600 hover:text-red-800",children:"Sign Out"})]})]})})}),(0,n.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"grid gap-6",children:[u&&(0,n.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Digital Maturity Assessment Report"}),(0,n.jsx)("button",{onClick:handleLaunchReport,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Launch Report"})]})}),s&&(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-2",children:s.name}),(0,n.jsx)("p",{className:"text-gray-600",children:s.settings.customization.description})]})]})})]})}},6266:function(e,t,s){"use strict";s.d(t,{a:function(){return useAuth}}),s(5893);var n=s(7294);s(7638),s(3859),s(2793);let a=(0,n.createContext)();function useAuth(){return(0,n.useContext)(a)}},479:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return o},default:function(){return ClientPortalPage}});var n=s(5893),a=s(6266),i=s(1163),l=s(7294),r=s(5346),c=s(7638),u=s(2793),o=!0;function ClientPortalPage(){let e=(0,i.useRouter)(),[t,s]=(0,l.useState)(null),[o,d]=(0,l.useState)(null),{user:h}=(0,a.a)();return((0,l.useEffect)(()=>{if(!h){e.push("/login");return}let fetchData=async()=>{let e=await (0,u.QT)((0,u.JU)(c.db,"users",h.uid));if(e.exists()){let t=e.data();if(s(t),t.clientGroupId){let e=await (0,u.QT)((0,u.JU)(c.db,"clientGroups",t.clientGroupId));e.exists()&&d(e.data())}}};fetchData()},[h,e]),h&&t&&o)?(0,n.jsx)(r.default,{userProfile:t,clientGroup:o}):null}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4282)}),_N_E=e.O()}]);