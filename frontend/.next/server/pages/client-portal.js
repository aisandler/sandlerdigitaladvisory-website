"use strict";(()=>{var e={};e.id=156,e.ids=[156,888,660],e.modules={3583:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>S,default:()=>d,getServerSideProps:()=>f,getStaticPaths:()=>P,getStaticProps:()=>g,reportWebVitals:()=>b,routeModule:()=>q,unstable_getServerProps:()=>m,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>x,unstable_getStaticProps:()=>h});var s=r(9847),o=r(2603),i=r(8847),l=r(3421),n=r.n(l),u=r(4096),p=r(4748),c=e([u,p]);[u,p]=c.then?(await c)():c;let d=(0,i.l)(p,"default"),g=(0,i.l)(p,"getStaticProps"),P=(0,i.l)(p,"getStaticPaths"),f=(0,i.l)(p,"getServerSideProps"),S=(0,i.l)(p,"config"),b=(0,i.l)(p,"reportWebVitals"),h=(0,i.l)(p,"unstable_getStaticProps"),x=(0,i.l)(p,"unstable_getStaticPaths"),_=(0,i.l)(p,"unstable_getStaticParams"),m=(0,i.l)(p,"unstable_getServerProps"),v=(0,i.l)(p,"unstable_getServerSideProps"),q=new s.PagesRouteModule({definition:{kind:o.x.PAGES,page:"/client-portal",pathname:"/client-portal",bundlePath:"",filename:""},components:{App:u.default,Document:n()},userland:p});a()}catch(e){a(e)}})},4748:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>ClientPortalPage,getServerSideProps:()=>getServerSideProps});var s=r(997),o=r(4577),i=r(6677),l=r(6689),n=r(3811),u=r(8082),p=e([o,n]);function ClientPortalPage(){let{user:e,loading:t}=(0,o.a)(),r=(0,i.useRouter)(),[a,p]=(0,l.useState)(null),[c,d]=(0,l.useState)(null),[g,P]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{if(!t&&!e){r.push("/login");return}if(e?.uid){let fetchData=async()=>{P(!0);try{let e=await fetch("/api/client-portal-data");if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let t=await e.json();p(t.userProfile),d(t.clientGroup)}catch(e){console.error("Error fetching client portal data:",e)}finally{P(!1)}};fetchData()}},[e,t,r]),t||g)?s.jsx(u.Z,{}):e&&a&&c?(console.log("userProfile before ClientDashboard:",a),console.log("clientGroup before ClientDashboard:",c),s.jsx(n.default,{userProfile:a,clientGroup:c})):s.jsx("div",{children:"Error loading data. Please try again."})}[o,n]=p.then?(await p)():p;let getServerSideProps=async()=>({props:{}});a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},3745:e=>{e.exports=import("firebase/app")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[421,770,96,677,649,680],()=>__webpack_exec__(3583));module.exports=r})();