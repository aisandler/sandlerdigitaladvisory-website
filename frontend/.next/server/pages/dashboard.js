"use strict";(()=>{var e={};e.id=26,e.ids=[26,888,660],e.modules={8497:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>g,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>b,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>f});var r=t(9847),l=t(2603),i=t(8847),n=t(3421),c=t.n(n),d=t(4096),o=t(519),x=e([d,o]);[d,o]=x.then?(await x)():x;let m=(0,i.l)(o,"default"),u=(0,i.l)(o,"getStaticProps"),h=(0,i.l)(o,"getStaticPaths"),p=(0,i.l)(o,"getServerSideProps"),g=(0,i.l)(o,"config"),b=(0,i.l)(o,"reportWebVitals"),f=(0,i.l)(o,"unstable_getStaticProps"),j=(0,i.l)(o,"unstable_getStaticPaths"),y=(0,i.l)(o,"unstable_getStaticParams"),v=(0,i.l)(o,"unstable_getServerProps"),N=(0,i.l)(o,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:o});a()}catch(e){a(e)}})},6188:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>Dashboard});var r=t(997),l=t(6689),i=t(6677),n=t(4577),c=t(4071),d=t(3811),o=t(5909),x=t(1549),m=t(1492),u=t(8082),h=t(8806),p=t(5679),g=e([n,c,d,o,x,m,p]);function Dashboard(){let{user:e,signOut:s}=(0,n.a)(),t=(0,i.useRouter)(),[a,g]=(0,l.useState)(null),[b,f]=(0,l.useState)(null),[j,y]=(0,l.useState)(!0),[v,N]=(0,l.useState)("");if((0,l.useEffect)(()=>{(async function(){if(!e){t.replace("/login");return}try{let s=await (0,m.getDoc)((0,m.doc)(x.db,"users",e.uid));if(!s.exists()){N("User profile not found");return}let t=s.data();if(g(t),t.clientGroupId){let e=await (0,m.getDoc)((0,m.doc)(x.db,"clientGroups",t.clientGroupId));e.exists()&&f(e.data())}}catch(e){console.error("Error fetching user data:",e),N(e.message)}finally{y(!1)}})()},[e,t]),j)return r.jsx(u.Z,{});if(v)return r.jsx(h.Z,{message:v});if(!a)return t.replace("/login"),r.jsx(u.Z,{});switch(a.role){case"admin":return r.jsx(c.Z,{userProfile:a});case"client":if("econoco"===a.organizationId)return r.jsx(p.Z,{userProfile:a,clientGroup:b});return r.jsx(d.default,{userProfile:a,clientGroup:b});case"manager":return r.jsx(o.Z,{userProfile:a,clientGroup:b});default:return r.jsx(h.Z,{message:"Invalid user role"})}return r.jsx("div",{className:"min-h-screen bg-gray-100",children:r.jsx("nav",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[r.jsx("div",{className:"flex",children:r.jsx("div",{className:"flex-shrink-0 flex items-center",children:r.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})})}),r.jsx("div",{className:"flex items-center",children:r.jsx("button",{onClick:s,className:"ml-4 px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:"Sign Out"})})]})})})})}[n,c,d,o,x,m,p]=g.then?(await g)():g,a()}catch(e){a(e)}})},8806:(e,s,t)=>{t.d(s,{Z:()=>ErrorMessage});var a=t(997);function ErrorMessage({message:e}){return a.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:a.jsx("p",{children:e})})})}},4071:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>AdminDashboard});var r=t(997),l=t(6689),i=t(1549),n=t(1492),c=t(401),d=t(4577),o=t(5218),x=t.n(o),m=e([i,n,c,d]);[i,n,c,d]=m.then?(await m)():m;let u=x()(()=>Promise.resolve().then(t.bind(t,3811)),{loadableGenerated:{modules:["../components/dashboards/AdminDashboard.tsx -> ./ClientDashboard"]},ssr:!1});function AdminDashboard({userProfile:e}){let[s,t]=(0,l.useState)([]),[a,o]=(0,l.useState)([]),[x,m]=(0,l.useState)(!0),[h,p]=(0,l.useState)({email:"",name:"",role:"client",clientGroupId:""}),[g,b]=(0,l.useState)({name:"",description:"",features:["assessments"]}),[f,j]=(0,l.useState)("admin"),{signOut:y}=(0,d.a)();(0,l.useEffect)(()=>{(async function(){try{let e=(0,n.query)((0,n.collection)(i.db,"users")),s=await (0,n.getDocs)(e),a=s.docs.map(e=>({...e.data(),uid:e.id}));t(a);let r=(0,n.query)((0,n.collection)(i.db,"clientGroups")),l=await (0,n.getDocs)(r),c=l.docs.map(e=>({...e.data(),id:e.id}));o(c)}catch(e){console.error("Error fetching data:",e)}finally{m(!1)}})()},[]);let handleCreateUser=async e=>{e.preventDefault(),m(!0);try{let e=await (0,c.createUserWithEmailAndPassword)(i.I,h.email,"tempPassword123!"),a={uid:e.user.uid,email:h.email,name:h.name,role:h.role,clientGroupId:h.clientGroupId,organizationId:"econoco",accessLevel:1};await (0,n.setDoc)((0,n.doc)(i.db,"users",e.user.uid),a),t([...s,a]),p({email:"",name:"",role:"client",clientGroupId:""}),alert("User created successfully! Initial password: tempPassword123!")}catch(e){alert(`Error creating user: ${e.message}`)}finally{m(!1)}},handleCreateGroup=async e=>{e.preventDefault(),m(!0);try{let e={id:`group-${Date.now()}`,name:g.name,clients:[],managers:[],settings:{assessmentTypes:["executive","agency","technical"],features:g.features,customization:{description:g.description}}};await (0,n.setDoc)((0,n.doc)(i.db,"clientGroups",e.id),e),o([...a,e]),b({name:"",description:"",features:["assessments"]}),alert("Group created successfully!")}catch(e){alert(`Error creating group: ${e.message}`)}finally{m(!1)}};if("client"===f){let s={...e,role:"client",clientGroupId:a[0]?.id||void 0};return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"bg-blue-600 text-white px-4 py-2",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[r.jsx("span",{children:"Viewing as Client"}),r.jsx("button",{onClick:()=>j("admin"),className:"bg-white text-blue-600 px-4 py-1 rounded-md hover:bg-blue-50",children:"Back to Admin View"})]})}),r.jsx(u,{userProfile:s,clientGroup:a[0]||null})]})}return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[r.jsx("nav",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h1",{className:"text-xl font-semibold",children:"Admin Dashboard"})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>j("client"),className:"text-blue-600 hover:text-blue-800",children:"View as Client"}),r.jsx("button",{onClick:y,className:"text-red-600 hover:text-red-800",children:"Sign Out"}),r.jsx("span",{className:"text-gray-600",children:e.email})]})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"grid gap-6",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Client Groups"}),(0,r.jsxs)("form",{onSubmit:handleCreateGroup,className:"mb-6 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Group Name"}),r.jsx("input",{type:"text",value:g.name,onChange:e=>b({...g,name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("input",{type:"text",value:g.description,onChange:e=>b({...g,description:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",disabled:x,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Create Group"})})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Members"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Features"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.name}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.filter(s=>s.clientGroupId===e.id).length," members"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.settings.features.join(", ")}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),r.jsx("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-900",children:"View Members"})]})]},e.id))})]})})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New User"}),(0,r.jsxs)("form",{onSubmit:handleCreateUser,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),r.jsx("input",{type:"text",value:h.name,onChange:e=>p({...h,name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{type:"email",value:h.email,onChange:e=>p({...h,email:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,r.jsxs)("select",{value:h.role,onChange:e=>p({...h,role:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[r.jsx("option",{value:"client",children:"Client"}),r.jsx("option",{value:"manager",children:"Manager"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Client Group"}),(0,r.jsxs)("select",{value:h.clientGroupId,onChange:e=>p({...h,clientGroupId:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Group"}),a.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",disabled:x,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Create User"})})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Management"}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Group"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.role}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.find(s=>s.id===e.clientGroupId)?.name||"-"}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),r.jsx("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-900",children:"Reset Password"})]})]},e.uid))})]})})]})]})})]})}a()}catch(e){a(e)}})},5679:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>EconocoDashboard});var r=t(997),l=t(4577),i=t(9894),n=t.n(i),c=e([l]);function EconocoDashboard({userProfile:e,clientGroup:s}){let{signOut:t}=(0,l.a)();return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[r.jsx("nav",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h1",{className:"text-xl font-semibold",children:"Econoco Digital Portal"})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-gray-600",children:e.email}),r.jsx("button",{onClick:t,className:"text-red-600 hover:text-red-800",children:"Sign Out"})]})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:r.jsx("div",{className:"grid gap-6",children:r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Digital Maturity Assessment Report"}),r.jsx(n(),{href:"/assessment-app",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Launch Report"})]})})})})]})}l=(c.then?(await c)():c)[0],a()}catch(e){a(e)}})},5909:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>ManagerDashboard});var r=t(997),l=t(6689),i=t(1549),n=t(1492),c=e([i,n]);function ManagerDashboard({userProfile:e,clientGroup:s}){let[t,a]=(0,l.useState)([]),[c,d]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async function(){if(s){let e=(0,n.query)((0,n.collection)(i.db,"users"),(0,n.where)("clientGroupId","==",s.id)),t=await (0,n.getDocs)(e),r=t.docs.map(e=>e.data());a(r)}d(!1)})()},[s]),c)?r.jsx("div",{children:"Loading..."}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[r.jsx("nav",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h1",{className:"text-xl font-semibold",children:"Manager Dashboard"})}),r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"text-gray-600 mr-4",children:e.email})})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"grid gap-6",children:[s&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:s.name}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(0,r.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-blue-600",children:"Total Clients"}),r.jsx("p",{className:"text-2xl font-bold",children:t.length})]})})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Clients"}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:"Active"})]},e.uid))})]})})]})]})})]})}[i,n]=c.then?(await c)():c,a()}catch(e){a(e)}})},519:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>DashboardPage,getServerSideProps:()=>getServerSideProps}),t(997);var r=t(6188),l=t(4577),i=t(6677);t(6689);var n=e([r,l]);function DashboardPage(){return(0,i.useRouter)(),null}[r,l]=n.then?(await n)():n;let getServerSideProps=async()=>({props:{}});a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},3745:e=>{e.exports=import("firebase/app")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[421,770,96,677,894,218,649,680],()=>__webpack_exec__(8497));module.exports=t})();